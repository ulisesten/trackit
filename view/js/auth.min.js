function el(a){return document.getElementById(a)}function newEl(a){return document.createElement(a)}function notificationBox(a){document.body.innerHTML+='<div id="notifId" class="warning-notification">\n                   <span class="material-icons">error </span><span class="notif-text">'+a+"</span>\n               </div>";setTimeout(function(){el("notifId").remove()},5E3)}var registrar=el("signup-button");
null!==registrar&&registrar.addEventListener("click",function(a){a.preventDefault();a=el("username-register").value;var b=el("email-register").value,c=el("password-register").value;a&&b&&c&&auth("/mobileRegister",b,c,a)});var ingresar=el("login-button");null!==ingresar&&ingresar.addEventListener("click",function(a){a.preventDefault();a=el("email-login").value;var b=el("password-login").value;a&&b&&auth("/mobileLogin",a,b)});
function auth(a,b,c,d){b={email:b,password:c};d&&(b.username=d);fetch(a,{credentials:"include",method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(b)}).then(function(a){console.log("res",a.status);return 200!==a.status?null:a.json()}).then(function(a){null!==a?(console.log("not null",a),localStorage.setItem("username",a.username),localStorage.setItem("id",a.id),localStorage.setItem("token",a.credentials),window.location.href="/"):(console.log("problem with credentials"),
notificationBox("Problem with Credentials"))})};